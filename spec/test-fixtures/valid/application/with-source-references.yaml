# Valid application layer fixture - Components, Services, and DataObjects with source references
# Tests: Source reference validation, schema validation for Phase 2 implementation

application-components:
  - id: "app-comp-001"
    name: "Order Service Component"
    type: "backend"
    documentation: "Backend component handling order processing logic"
    properties:
      implementation:
        framework: "Spring Boot"
      source:
        reference:
          provenance: "extracted"
          locations:
            - file: "src/main/java/com/example/orders/OrderServiceComponent.java"
              symbol: "OrderServiceComponent"
          repository:
            url: "https://github.com/example/ecommerce-backend.git"
            commit: "abc123def4567890abcdef1234567890abcdef12"

  - id: "app-comp-002"
    name: "Payment Gateway Component"
    type: "service"
    documentation: "Component handling payment processing integration"
    properties:
      implementation:
        framework: "Node.js"
      source:
        reference:
          provenance: "manual"
          locations:
            - file: "src/services/payment/PaymentGateway.ts"
              symbol: "PaymentGateway"

application-services:
  - id: "app-svc-001"
    name: "Order Management Service"
    serviceType: "synchronous"
    documentation: "Service exposing order management operations"
    properties:
      spec:
        openapi: "api-spec-orders-v1"
      service:
        version: "2.1.0"
      apm:
        traced: "true"
        sla-target-latency: "200ms"
        sla-target-availability: "99.9%"
      source:
        reference:
          provenance: "extracted"
          locations:
            - file: "src/services/OrderService.py"
              symbol: "OrderService"
            - file: "src/services/OrderService.py"
              symbol: "OrderService.create_order"
            - file: "src/services/OrderService.py"
              symbol: "OrderService.update_order"
          repository:
            url: "https://github.com/acme/backend.git"
            commit: "def456789abcdef0123456789abcdef012345678"

  - id: "app-svc-002"
    name: "Notification Service"
    serviceType: "asynchronous"
    documentation: "Asynchronous notification delivery service"
    properties:
      service:
        version: "1.5.0"
      source:
        reference:
          provenance: "inferred"
          locations:
            - file: "services/notifications/NotificationService.java"

data-objects:
  - id: "data-obj-001"
    name: "Order Data Transfer Object"
    documentation: "Data structure for order information transfer between services"
    properties:
      spec:
        schema: "OrderDTO"
      data:
        pii: "false"
        retention: "7 years"
      source:
        reference:
          provenance: "extracted"
          locations:
            - file: "src/models/OrderDTO.ts"
              symbol: "OrderDTO"
          repository:
            url: "https://github.com/example/shared-models.git"
            commit: "1234567890abcdef1234567890abcdef12345678"

  - id: "data-obj-002"
    name: "Customer Profile"
    documentation: "Customer profile data structure"
    properties:
      spec:
        schema: "CustomerProfile"
        database: "customers-db"
      data:
        pii: "true"
        retention: "10 years"
      source:
        reference:
          provenance: "manual"
          locations:
            - file: "src/domain/Customer.java"
              symbol: "CustomerProfile"
            - file: "src/domain/Customer.java"
              symbol: "CustomerProfile.personalInfo"
