{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/07-data-model-layer.schema.json",
  "title": "Data Model Layer Schema",
  "description": "Defines data structures, types, and validation rules using JSON Schema Draft 7 for consistent data modeling across the application.",
  "type": "object",
  "properties": {
    "json-schemas": {
      "type": "array",
      "description": "Collection of JSONSchema entities",
      "items": {
        "$ref": "#/definitions/JSONSchema"
      }
    },
    "json-types": {
      "type": "array",
      "description": "Collection of JSONType entities",
      "items": {
        "$ref": "#/definitions/JSONType"
      }
    },
    "string-schemas": {
      "type": "array",
      "description": "Collection of StringSchema entities",
      "items": {
        "$ref": "#/definitions/StringSchema"
      }
    },
    "numeric-schemas": {
      "type": "array",
      "description": "Collection of NumericSchema entities",
      "items": {
        "$ref": "#/definitions/NumericSchema"
      }
    },
    "array-schemas": {
      "type": "array",
      "description": "Collection of ArraySchema entities",
      "items": {
        "$ref": "#/definitions/ArraySchema"
      }
    },
    "object-schemas": {
      "type": "array",
      "description": "Collection of ObjectSchema entities",
      "items": {
        "$ref": "#/definitions/ObjectSchema"
      }
    },
    "schema-compositions": {
      "type": "array",
      "description": "Collection of SchemaComposition entities",
      "items": {
        "$ref": "#/definitions/SchemaComposition"
      }
    },
    "references": {
      "type": "array",
      "description": "Collection of Reference entities",
      "items": {
        "$ref": "#/definitions/Reference"
      }
    },
    "schema-definitions": {
      "type": "array",
      "description": "Collection of SchemaDefinition entities",
      "items": {
        "$ref": "#/definitions/SchemaDefinition"
      }
    },
    "schema-properties": {
      "type": "array",
      "description": "Collection of SchemaProperty entities",
      "items": {
        "$ref": "#/definitions/SchemaProperty"
      }
    },
    "data-governances": {
      "type": "array",
      "description": "Collection of DataGovernance entities",
      "items": {
        "$ref": "#/definitions/DataGovernance"
      }
    },
    "data-quality-metricses": {
      "type": "array",
      "description": "Collection of DataQualityMetrics entities",
      "items": {
        "$ref": "#/definitions/DataQualityMetrics"
      }
    },
    "database-mappings": {
      "type": "array",
      "description": "Collection of DatabaseMapping entities",
      "items": {
        "$ref": "#/definitions/DatabaseMapping"
      }
    },
    "x-business-object-refs": {
      "type": "array",
      "description": "Collection of x-business-object-ref entities",
      "items": {
        "$ref": "#/definitions/x-business-object-ref"
      }
    },
    "x-data-governances": {
      "type": "array",
      "description": "Collection of x-data-governance entities",
      "items": {
        "$ref": "#/definitions/x-data-governance"
      }
    },
    "x-apm-data-quality-metricses": {
      "type": "array",
      "description": "Collection of x-apm-data-quality-metrics entities",
      "items": {
        "$ref": "#/definitions/x-apm-data-quality-metrics"
      }
    },
    "x-databases": {
      "type": "array",
      "description": "Collection of x-database entities",
      "items": {
        "$ref": "#/definitions/x-database"
      }
    },
    "x-uis": {
      "type": "array",
      "description": "Collection of x-ui entities",
      "items": {
        "$ref": "#/definitions/x-ui"
      }
    },
    "x-securities": {
      "type": "array",
      "description": "Collection of x-security entities",
      "items": {
        "$ref": "#/definitions/x-security"
      }
    }
  },
  "definitions": {
    "JSONSchema": {
      "type": "object",
      "description": "Root schema document",
      "required": [
        "id",
        "name",
        "$schema",
        "$id",
        "type"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "$schema": {
          "type": "string",
          "minLength": 1
        },
        "$id": {
          "type": "string",
          "minLength": 1
        },
        "title": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string",
          "minLength": 1
        },
        "type": {
          "type": "string",
          "minLength": 1
        },
        "definitions": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        },
        "properties": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "JSONType": {
      "type": "object",
      "description": "Core JSON data types",
      "required": [
        "value"
      ],
      "properties": {
        "value": {
          "$ref": "#/definitions/enum"
        }
      }
    },
    "StringSchema": {
      "type": "object",
      "description": "StringSchema validation rules",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "minLength": 1
        },
        "minLength": {
          "type": "integer"
        },
        "maxLength": {
          "type": "integer"
        },
        "pattern": {
          "type": "string",
          "minLength": 1
        },
        "format": {
          "$ref": "#/definitions/enum"
        }
      },
      "definitions": {
        "StringFormat": {
          "type": "string",
          "enum": [
            "date-time",
            "date",
            "time",
            "email",
            "idn-email",
            "hostname",
            "idn-hostname",
            "ipv4",
            "ipv6",
            "uri",
            "uri-reference",
            "iri",
            "iri-reference",
            "json-pointer",
            "relative-json-pointer",
            "regex",
            "uuid",
            "phone",
            "credit-card"
          ]
        }
      }
    },
    "NumericSchema": {
      "type": "object",
      "description": "NumericSchema validation rules",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "minLength": 1
        },
        "minimum": {
          "type": "number"
        },
        "maximum": {
          "type": "number"
        },
        "exclusiveMinimum": {
          "type": "number"
        },
        "exclusiveMaximum": {
          "type": "number"
        },
        "multipleOf": {
          "type": "number"
        }
      }
    },
    "ArraySchema": {
      "type": "object",
      "description": "ArraySchema validation rules",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "minLength": 1
        },
        "items": {
          "type": "string",
          "minLength": 1
        },
        "minItems": {
          "type": "integer"
        },
        "maxItems": {
          "type": "integer"
        },
        "uniqueItems": {
          "type": "boolean"
        },
        "contains": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "ObjectSchema": {
      "type": "object",
      "description": "ObjectSchema validation rules",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "minLength": 1
        },
        "required": {
          "type": "string",
          "minLength": 1
        },
        "additionalProperties": {
          "type": "string",
          "minLength": 1
        },
        "minProperties": {
          "type": "integer"
        },
        "maxProperties": {
          "type": "integer"
        },
        "properties": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "SchemaComposition": {
      "type": "object",
      "description": "Combining multiple schemas",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "Reference": {
      "type": "object",
      "description": "Reference to another schema",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "SchemaDefinition": {
      "type": "object",
      "description": "A reusable JSON Schema definition that can be referenced throughout the data model. Enables DRY schema design and consistent type definitions across entities.",
      "required": [
        "id",
        "name",
        "title",
        "type"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "title": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string",
          "minLength": 1
        },
        "type": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        },
        "items": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "SchemaProperty": {
      "type": "object",
      "description": "Defines a single property within a schema, including its type, constraints, validation rules, and documentation. The fundamental building block of data model structure.",
      "required": [
        "id",
        "name",
        "type",
        "title",
        "format",
        "default",
        "enum",
        "const",
        "examples"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "type": {
          "type": "string",
          "minLength": 1
        },
        "title": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string",
          "minLength": 1
        },
        "format": {
          "type": "string",
          "minLength": 1
        },
        "default": {
          "type": "string",
          "minLength": 1
        },
        "enum": {
          "type": "string",
          "minLength": 1
        },
        "const": {
          "type": "string",
          "minLength": 1
        },
        "readOnly": {
          "type": "boolean"
        },
        "writeOnly": {
          "type": "boolean"
        },
        "deprecated": {
          "type": "boolean"
        },
        "examples": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "DataGovernance": {
      "type": "object",
      "description": "Metadata about data ownership, classification, sensitivity level, and handling requirements. Ensures data is managed according to organizational policies and regulations.",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      },
      "definitions": {
        "DataClassificationLevel": {
          "type": "string",
          "enum": [
            "public",
            "internal",
            "confidential",
            "restricted",
            "secret"
          ]
        }
      }
    },
    "DataQualityMetrics": {
      "type": "object",
      "description": "Defines measurable quality attributes for data elements such as completeness, accuracy, consistency, and timeliness. Enables data quality monitoring and SLA enforcement.",
      "required": [
        "id",
        "name",
        "schemaRef"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "schemaRef": {
          "type": "string",
          "minLength": 1
        },
        "monitoringEnabled": {
          "type": "boolean"
        }
      }
    },
    "DatabaseMapping": {
      "type": "object",
      "description": "Specifies how a logical data model entity maps to physical database storage, including table names, column mappings, and storage optimizations. Bridges logical and physical data layers.",
      "required": [
        "id",
        "name",
        "table",
        "schema",
        "catalog",
        "engine"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "table": {
          "type": "string",
          "minLength": 1
        },
        "schema": {
          "type": "string",
          "minLength": 1
        },
        "catalog": {
          "type": "string",
          "minLength": 1
        },
        "engine": {
          "type": "string",
          "minLength": 1
        }
      },
      "definitions": {
        "SQLType": {
          "type": "string",
          "enum": [
            "VARCHAR",
            "CHAR",
            "TEXT",
            "CLOB",
            "INTEGER",
            "SMALLINT",
            "BIGINT",
            "SERIAL",
            "BIGSERIAL",
            "DECIMAL",
            "NUMERIC",
            "FLOAT",
            "DOUBLE",
            "BOOLEAN",
            "DATE",
            "TIME",
            "TIMESTAMP",
            "TIMESTAMPTZ",
            "INTERVAL",
            "JSON",
            "JSONB",
            "UUID",
            "BYTEA",
            "BLOB",
            "ARRAY"
          ]
        },
        "ReferentialAction": {
          "type": "string",
          "enum": [
            "CASCADE",
            "SET_NULL",
            "SET_DEFAULT",
            "RESTRICT",
            "NO_ACTION"
          ]
        },
        "IndexType": {
          "type": "string",
          "enum": [
            "BTREE",
            "HASH",
            "GIN",
            "GIST",
            "BRIN"
          ]
        },
        "ConstraintType": {
          "type": "string",
          "enum": [
            "PRIMARY_KEY",
            "UNIQUE",
            "FOREIGN_KEY",
            "CHECK",
            "NOT_NULL",
            "EXCLUSION"
          ]
        },
        "PartitionStrategy": {
          "type": "string",
          "enum": [
            "RANGE",
            "LIST",
            "HASH"
          ]
        }
      }
    },
    "x-business-object-ref": {
      "type": "object",
      "description": "Reference to BusinessObject this schema implements",
      "required": [
        "value"
      ],
      "properties": {
        "value": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "x-data-governance": {
      "type": "object",
      "description": "Data model governance metadata (root-level)",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "governedBy": {
          "type": "object"
        }
      }
    },
    "x-apm-data-quality-metrics": {
      "type": "object",
      "description": "Links schema to data quality metrics in APM/Observability Layer",
      "required": [
        "id",
        "name",
        "completenessMetrics",
        "accuracyMetrics",
        "consistencyMetrics",
        "freshnessMetrics",
        "uniquenessMetrics",
        "integrityMetrics"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "completenessMetrics": {
          "type": "string",
          "minLength": 1
        },
        "accuracyMetrics": {
          "type": "string",
          "minLength": 1
        },
        "consistencyMetrics": {
          "type": "string",
          "minLength": 1
        },
        "freshnessMetrics": {
          "type": "string",
          "minLength": 1
        },
        "uniquenessMetrics": {
          "type": "string",
          "minLength": 1
        },
        "integrityMetrics": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "x-database": {
      "type": "object",
      "description": "Database mapping information",
      "required": [
        "id",
        "name",
        "table",
        "schema",
        "engine"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "table": {
          "type": "string",
          "minLength": 1
        },
        "schema": {
          "type": "string",
          "minLength": 1
        },
        "engine": {
          "type": "string",
          "minLength": 1
        }
      },
      "definitions": {
        "SQLType": {
          "type": "string",
          "enum": [
            "VARCHAR",
            "TEXT",
            "INTEGER",
            "BIGINT",
            "SERIAL",
            "BIGSERIAL",
            "DECIMAL",
            "NUMERIC",
            "BOOLEAN",
            "DATE",
            "TIMESTAMP",
            "TIMESTAMPTZ",
            "JSON",
            "JSONB",
            "UUID",
            "BYTEA"
          ]
        },
        "ReferentialAction": {
          "type": "string",
          "enum": [
            "CASCADE",
            "SET_NULL",
            "RESTRICT",
            "NO_ACTION",
            "SET_DEFAULT"
          ]
        },
        "IndexType": {
          "type": "string",
          "enum": [
            "BTREE",
            "HASH",
            "GIN",
            "GIST"
          ]
        },
        "ConstraintType": {
          "type": "string",
          "enum": [
            "PRIMARY_KEY",
            "UNIQUE",
            "FOREIGN_KEY",
            "CHECK"
          ]
        }
      }
    },
    "x-ui": {
      "type": "object",
      "description": "UI rendering hints",
      "required": [
        "id",
        "name",
        "component",
        "label",
        "placeholder",
        "helpText",
        "order",
        "readOnly",
        "hidden",
        "group"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "component": {
          "$ref": "#/definitions/enum"
        },
        "label": {
          "type": "string",
          "minLength": 1
        },
        "placeholder": {
          "type": "string",
          "minLength": 1
        },
        "helpText": {
          "type": "string",
          "minLength": 1
        },
        "order": {
          "type": "integer"
        },
        "readOnly": {
          "type": "boolean"
        },
        "hidden": {
          "type": "boolean"
        },
        "group": {
          "type": "string",
          "minLength": 1
        }
      },
      "definitions": {
        "UIComponent": {
          "type": "string",
          "enum": [
            "text-input",
            "textarea",
            "number-input",
            "email-input",
            "password-input",
            "date-picker",
            "datetime-picker",
            "select",
            "multi-select",
            "autocomplete",
            "checkbox",
            "radio-group",
            "toggle",
            "slider",
            "file-upload",
            "rich-text-editor",
            "color-picker"
          ]
        }
      }
    },
    "x-security": {
      "type": "object",
      "description": "Security and privacy metadata",
      "required": [
        "id",
        "name",
        "pii",
        "encrypted",
        "classification",
        "retention",
        "masking",
        "redaction"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "pii": {
          "type": "boolean"
        },
        "encrypted": {
          "type": "boolean"
        },
        "classification": {
          "$ref": "#/definitions/enum"
        },
        "retention": {
          "type": "string",
          "minLength": 1
        },
        "masking": {
          "$ref": "#/definitions/enum"
        },
        "redaction": {
          "type": "boolean"
        }
      },
      "definitions": {
        "SecurityClassification": {
          "type": "string",
          "enum": [
            "public",
            "internal",
            "confidential",
            "restricted"
          ]
        },
        "MaskingStrategy": {
          "type": "string",
          "enum": [
            "none",
            "partial",
            "full",
            "hash"
          ]
        }
      }
    }
  }
}
