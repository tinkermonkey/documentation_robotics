{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/07-data-model-layer.json",
  "title": "Data Model Layer Schema",
  "type": "object",
  "description": "ArchiMate Data Model Layer elements for business services, processes, actors, and objects",
  "properties": {
    "jSONSchemas": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/JSONSchema"
      }
    },
    "jSONTypes": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/JSONType"
      }
    },
    "stringSchemas": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/StringSchema"
      }
    },
    "numericSchemas": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/NumericSchema"
      }
    },
    "arraySchemas": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ArraySchema"
      }
    },
    "objectSchemas": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ObjectSchema"
      }
    },
    "schemaCompositions": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/SchemaComposition"
      }
    },
    "references": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/Reference"
      }
    },
    "x-business-object-refs": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/x-business-object-ref"
      }
    },
    "x-data-governances": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/x-data-governance"
      }
    },
    "x-apm-data-quality-metricses": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/x-apm-data-quality-metrics"
      }
    },
    "x-databases": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/x-database"
      }
    },
    "x-uis": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/x-ui"
      }
    },
    "x-securities": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/x-security"
      }
    },
    "relationships": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/Relationship"
      }
    }
  },
  "definitions": {
    "JSONSchema": {
      "type": "object",
      "description": "Root schema document",
      "required": [
        "id",
        "name",
        "$schema",
        "$id",
        "type"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "$schema": {
          "type": "string"
        },
        "$id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "definitions": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "minItems": 0,
          "description": "References to SchemaDefinition IDs"
        },
        "properties": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "minItems": 0,
          "description": "References to SchemaProperty IDs"
        }
      }
    },
    "JSONType": {
      "type": "object",
      "description": "Core JSON data types",
      "required": [
        "id",
        "name"
      ],
      "properties": {}
    },
    "StringSchema": {
      "type": "object",
      "description": "StringSchema validation rules",
      "required": [
        "id",
        "name"
      ],
      "properties": {}
    },
    "NumericSchema": {
      "type": "object",
      "description": "NumericSchema validation rules",
      "required": [
        "id",
        "name"
      ],
      "properties": {}
    },
    "ArraySchema": {
      "type": "object",
      "description": "ArraySchema validation rules",
      "required": [
        "id",
        "name"
      ],
      "properties": {}
    },
    "ObjectSchema": {
      "type": "object",
      "description": "ObjectSchema validation rules",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "properties": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "minItems": 0,
          "description": "References to SchemaProperty IDs"
        }
      }
    },
    "SchemaComposition": {
      "type": "object",
      "description": "Combining multiple schemas",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "Reference": {
      "type": "object",
      "description": "Reference to another schema",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "x-business-object-ref": {
      "type": "object",
      "description": "Reference to BusinessObject this schema implements",
      "required": [
        "id",
        "name"
      ],
      "properties": {}
    },
    "x-data-governance": {
      "type": "object",
      "required": [
        "id",
        "name"
      ],
      "properties": {}
    },
    "x-apm-data-quality-metrics": {
      "type": "object",
      "description": "Links schema to data quality metrics in APM/Observability Layer",
      "required": [
        "id",
        "name",
        "completenessMetrics",
        "accuracyMetrics",
        "consistencyMetrics",
        "freshnessMetrics",
        "uniquenessMetrics",
        "integrityMetrics"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "completenessMetrics": {
          "type": "string"
        },
        "accuracyMetrics": {
          "type": "string"
        },
        "consistencyMetrics": {
          "type": "string"
        },
        "freshnessMetrics": {
          "type": "string"
        },
        "uniquenessMetrics": {
          "type": "string"
        },
        "integrityMetrics": {
          "type": "string"
        }
      }
    },
    "x-database": {
      "type": "object",
      "description": "Database mapping information",
      "required": [
        "id",
        "name",
        "table",
        "schema",
        "engine"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "table": {
          "type": "string"
        },
        "schema": {
          "type": "string"
        },
        "engine": {
          "type": "string"
        }
      }
    },
    "x-ui": {
      "type": "object",
      "description": "UI rendering hints",
      "required": [
        "id",
        "name",
        "component",
        "label",
        "placeholder",
        "helpText",
        "order",
        "readOnly",
        "hidden",
        "group"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "component": {
          "type": "string",
          "enum": [
            "text-input",
            "textarea",
            "number-input",
            "email-input",
            "password-input",
            "date-picker",
            "datetime-picker",
            "select",
            "multi-select",
            "autocomplete",
            "checkbox",
            "radio-group",
            "toggle",
            "slider",
            "file-upload",
            "rich-text-editor",
            "color-picker"
          ]
        },
        "label": {
          "type": "string"
        },
        "placeholder": {
          "type": "string"
        },
        "helpText": {
          "type": "string"
        },
        "order": {
          "type": "integer"
        },
        "readOnly": {
          "type": "boolean"
        },
        "hidden": {
          "type": "boolean"
        },
        "group": {
          "type": "string"
        }
      }
    },
    "x-security": {
      "type": "object",
      "description": "Security and privacy metadata",
      "required": [
        "id",
        "name",
        "pii",
        "encrypted",
        "classification",
        "retention",
        "masking",
        "redaction"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "pii": {
          "type": "boolean"
        },
        "encrypted": {
          "type": "boolean"
        },
        "classification": {
          "type": "string",
          "enum": [
            "public",
            "internal",
            "confidential",
            "restricted"
          ]
        },
        "retention": {
          "type": "string"
        },
        "masking": {
          "type": "string",
          "enum": [
            "none",
            "partial",
            "full",
            "hash"
          ]
        },
        "redaction": {
          "type": "boolean"
        }
      }
    },
    "Relationship": {
      "type": "object",
      "required": [
        "type",
        "source",
        "target"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "Composition",
            "Aggregation",
            "Assignment",
            "Realization",
            "Triggering",
            "Flow",
            "Association",
            "Access",
            "Serving"
          ]
        },
        "source": {
          "type": "string",
          "format": "uuid"
        },
        "target": {
          "type": "string",
          "format": "uuid"
        },
        "documentation": {
          "type": "string"
        }
      }
    }
  }
}
