{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/02-business-layer.json",
  "title": "Business Layer Schema",
  "description": "ArchiMate Business Layer elements for business services, processes, actors, and objects",
  "type": "object",
  "properties": {
    "businessActors": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessActor" }
    },
    "businessRoles": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessRole" }
    },
    "businessCollaborations": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessCollaboration" }
    },
    "businessInterfaces": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessInterface" }
    },
    "businessProcesses": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessProcess" }
    },
    "businessFunctions": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessFunction" }
    },
    "businessInteractions": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessInteraction" }
    },
    "businessEvents": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessEvent" }
    },
    "businessServices": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessService" }
    },
    "businessObjects": {
      "type": "array",
      "items": { "$ref": "#/definitions/BusinessObject" }
    },
    "contracts": {
      "type": "array",
      "items": { "$ref": "#/definitions/Contract" }
    },
    "representations": {
      "type": "array",
      "items": { "$ref": "#/definitions/Representation" }
    },
    "products": {
      "type": "array",
      "items": { "$ref": "#/definitions/Product" }
    },
    "relationships": {
      "type": "array",
      "items": { "$ref": "#/definitions/Relationship" }
    }
  },
  "definitions": {
    "BusinessActor": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "BusinessRole": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "BusinessCollaboration": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "BusinessInterface": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "BusinessProcess": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        },
        "properties": {
          "type": "object",
          "properties": {
            "process.bpmn": {
              "type": "string",
              "description": "Path to BPMN file"
            }
          }
        }
      }
    },
    "BusinessFunction": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "BusinessInteraction": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "BusinessEvent": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["time-driven", "state-change", "external"]
        }
      }
    },
    "BusinessService": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        },
        "properties": {
          "type": "object",
          "properties": {
            "sla.availability": {
              "type": "string"
            },
            "sla.response-time": {
              "type": "string"
            }
          }
        }
      }
    },
    "BusinessObject": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        },
        "properties": {
          "type": "object",
          "properties": {
            "spec.schema": {
              "type": "string",
              "description": "Path to JSON Schema file"
            }
          }
        }
      }
    },
    "Contract": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        }
      }
    },
    "Representation": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        },
        "format": {
          "type": "string",
          "enum": ["document", "report", "form", "message"]
        }
      }
    },
    "Product": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string"
        },
        "services": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "minItems": 1,
          "description": "References to BusinessService IDs"
        },
        "contracts": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "References to Contract IDs"
        }
      }
    },
    "Relationship": {
      "type": "object",
      "required": ["type", "source", "target"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Composition", "Aggregation", "Assignment", "Realization", "Triggering", "Flow", "Association", "Access", "Serving"]
        },
        "source": {
          "type": "string",
          "format": "uuid"
        },
        "target": {
          "type": "string",
          "format": "uuid"
        },
        "documentation": {
          "type": "string"
        }
      }
    }
  }
}
