{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "StateActionTemplate",
  "description": "A parameterizable, reusable definition of an action to execute during state transitions. StateActionTemplate is the definition; StateAction is the concrete usage bound to a specific ExperienceState and lifecycle hook. Example: a 'scroll-to-top' template with a 'targetId' parameter, instantiated as a StateAction on multiple states.",
  "allOf": [
    {
      "$ref": "../../base/spec-node.schema.json"
    }
  ],
  "properties": {
    "spec_node_id": {
      "const": "ux.stateactiontemplate"
    },
    "layer_id": {
      "const": "ux"
    },
    "type": {
      "const": "stateactiontemplate"
    },
    "attributes": {
      "type": "object",
      "properties": {
        "action": {
          "type": "string",
          "enum": ["navigate", "submit", "open", "close", "dispatch", "validate"],
          "description": "Operation this template encapsulates. Must match a value from the StateAction action enum."
        },
        "description": {
          "type": "string"
        },
        "parameters": {
          "type": "array",
          "description": "Configurable parameters that can be supplied when instantiating this template as a StateAction. Each item defines a named input with its expected type and optional default value.",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Parameter identifier used to reference it in the action (e.g., 'targetId', 'routePath')."
              },
              "type": {
                "type": "string",
                "enum": ["string", "number", "boolean"],
                "description": "Expected data type of the parameter value."
              },
              "default": {
                "type": "string",
                "description": "Optional default value as a string; coerced to the declared type at runtime."
              }
            },
            "required": ["name", "type"],
            "additionalProperties": false
          }
        }
      },
      "required": ["action"],
      "additionalProperties": false
    }
  }
}
