{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ActionComponent",
  "description": "Interactive element that triggers actions (button, menu, link, voice command)",
  "allOf": [
    {
      "$ref": "../../base/spec-node.schema.json"
    }
  ],
  "properties": {
    "spec_node_id": {
      "const": "ux.actioncomponent"
    },
    "layer_id": {
      "const": "ux"
    },
    "type": {
      "const": "actioncomponent"
    },
    "attributes": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["button", "link", "menu", "voice-command", "icon-button"],
          "description": "Interactive element kind, per HTML 5.3 button, anchor, and menu element semantics."
        },
        "icon": {
          "type": "string"
        },
        "disabled": {
          "type": "boolean"
        },
        "tooltip": {
          "type": "string"
        },
        "channel": {
          "type": "string",
          "enum": ["web", "mobile", "voice", "chat", "sms"],
          "description": "Delivery channel for which this component is rendered."
        },
        "style": {
          "type": "string",
          "enum": ["primary", "secondary", "danger", "ghost", "link", "icon"],
          "description": "Visual style variant of the action component, per design system button style conventions."
        },
        "validations": {
          "type": "array",
          "description": "Client-side validation rules applied to this component, per HTML 5.3 Constraint Validation API. Each rule specifies a constraint type, threshold value, and user-facing error message.",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "required",
                  "minlength",
                  "maxlength",
                  "pattern",
                  "min",
                  "max",
                  "type",
                  "custom"
                ],
                "description": "Constraint type. 'required': field must not be empty; 'minlength'/'maxlength': string length bounds (value = integer); 'pattern': regex the input must match (value = regex string); 'min'/'max': numeric range (value = number); 'type': expected data type; 'custom': application-defined rule."
              },
              "value": {
                "type": "string",
                "description": "Constraint threshold or parameter (e.g., '8' for minlength, '^[a-z]+$' for pattern)."
              },
              "message": {
                "type": "string",
                "description": "User-facing error message shown when this constraint is violated."
              }
            },
            "required": ["type", "message"],
            "additionalProperties": false
          }
        }
      },
      "required": ["type"],
      "additionalProperties": false
    }
  }
}
