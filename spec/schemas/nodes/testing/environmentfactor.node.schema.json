{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "EnvironmentFactor",
  "description": "A specific environmental variable (OS version, network latency, locale setting, hardware configuration, dependency version) documented as affecting test behavior. Used to parameterize ContextVariation instances with concrete environmental constraints per IEEE 829-2008 environmental needs specification.",
  "allOf": [
    {
      "$ref": "../../base/spec-node.schema.json"
    }
  ],
  "properties": {
    "spec_node_id": {
      "const": "testing.environmentfactor"
    },
    "layer_id": {
      "const": "testing"
    },
    "type": {
      "const": "environmentfactor"
    },
    "attributes": {
      "type": "object",
      "properties": {
        "factorType": {
          "type": "string",
          "enum": ["os", "network", "locale", "hardware", "dependency-version"],
          "description": "Category of environmental variable being documented."
        },
        "value": {
          "type": "string",
          "description": "The specific value or constraint for this factor (e.g., 'Ubuntu 22.04', 'latency < 100ms', 'en-US', 'Node.js 20.x')."
        },
        "expectedRange": {
          "type": "string",
          "description": "Acceptable range or set of values for this factor in the test environment (e.g., 'latency 50-200ms', 'Ubuntu 20.04 or 22.04')."
        },
        "testImpact": {
          "type": "string",
          "description": "Description of how variations in this factor are expected to affect test behavior or outcomes."
        },
        "description": {
          "type": "string"
        }
      },
      "required": ["factorType", "value"],
      "additionalProperties": false
    }
  }
}
