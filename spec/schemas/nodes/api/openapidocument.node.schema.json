{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "OpenAPIDocument",
  "description": "The root document object of an OpenAPI 3.0 specification. Required fields are openapi (semver string, e.g. '3.0.3'), info, and paths. Serves as the entry point for all tooling, gateways, and documentation generators.",
  "allOf": [
    {
      "$ref": "../../base/spec-node.schema.json"
    }
  ],
  "properties": {
    "spec_node_id": {
      "const": "api.openapidocument"
    },
    "layer_id": {
      "const": "api"
    },
    "type": {
      "const": "openapidocument"
    },
    "attributes": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "openapi": {
          "type": "string"
        },
        "info": {
          "type": "string"
        },
        "servers": {
          "type": "string"
        },
        "paths": {
          "type": "string"
        },
        "components": {
          "type": "string"
        },
        "security": {
          "type": "string"
        },
        "tags": {
          "type": "string"
        },
        "externalDocs": {
          "type": "string"
        }
      },
      "required": ["openapi", "info", "paths"],
      "additionalProperties": false
    }
  }
}
