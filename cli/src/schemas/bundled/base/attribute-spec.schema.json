{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "attribute-spec.schema.json",
  "title": "AttributeSpec Definitions",
  "description": "Reusable definition for attribute specifications used in spec-level schemas (e.g., spec-node-relationship attributes)",

  "definitions": {
    "AttributeSpec": {
      "type": "object",
      "title": "AttributeSpec",
      "description": "Specification for a single attribute that can appear on node or relationship instances",
      "required": ["type", "description"],
      "additionalProperties": false,
      "properties": {
        "type": {
          "type": "string",
          "enum": ["string", "integer", "number", "boolean", "array", "object", "enum"],
          "description": "The JSON type of this attribute"
        },
        "description": {
          "type": "string",
          "description": "Human-readable description of this attribute's purpose"
        },
        "enum_values": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required when type is 'enum'. Lists the valid string values for this attribute.",
          "examples": [
            ["high", "medium", "low"],
            ["active", "inactive", "archived"]
          ]
        },
        "format": {
          "type": "string",
          "description": "Optional format constraint for string types (e.g., 'email', 'uri', 'date-time')",
          "examples": ["email", "uri", "date-time", "uuid"]
        },
        "default": {
          "description": "Default value for this attribute when not provided on a node instance. Can be any JSON value."
        }
      },
      "if": {
        "properties": {
          "type": {
            "const": "enum"
          }
        }
      },
      "then": {
        "required": ["type", "description", "enum_values"]
      }
    }
  }
}
