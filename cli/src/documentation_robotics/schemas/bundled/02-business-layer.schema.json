{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/02-business-layer.schema.json",
  "title": "Business Layer Layer Schema",
  "description": "Represents business services, processes, actors, and objects that define the organization's operational structure and capabilities.",
  "type": "object",
  "properties": {
    "business-actors": {
      "type": "array",
      "description": "Collection of BusinessActor entities",
      "items": {
        "$ref": "#/definitions/BusinessActor"
      }
    },
    "business-roles": {
      "type": "array",
      "description": "Collection of BusinessRole entities",
      "items": {
        "$ref": "#/definitions/BusinessRole"
      }
    },
    "business-collaborations": {
      "type": "array",
      "description": "Collection of BusinessCollaboration entities",
      "items": {
        "$ref": "#/definitions/BusinessCollaboration"
      }
    },
    "business-interfaces": {
      "type": "array",
      "description": "Collection of BusinessInterface entities",
      "items": {
        "$ref": "#/definitions/BusinessInterface"
      }
    },
    "business-processes": {
      "type": "array",
      "description": "Collection of BusinessProcess entities",
      "items": {
        "$ref": "#/definitions/BusinessProcess"
      }
    },
    "business-functions": {
      "type": "array",
      "description": "Collection of BusinessFunction entities",
      "items": {
        "$ref": "#/definitions/BusinessFunction"
      }
    },
    "business-interactions": {
      "type": "array",
      "description": "Collection of BusinessInteraction entities",
      "items": {
        "$ref": "#/definitions/BusinessInteraction"
      }
    },
    "business-events": {
      "type": "array",
      "description": "Collection of BusinessEvent entities",
      "items": {
        "$ref": "#/definitions/BusinessEvent"
      }
    },
    "business-services": {
      "type": "array",
      "description": "Collection of BusinessService entities",
      "items": {
        "$ref": "#/definitions/BusinessService"
      }
    },
    "business-objects": {
      "type": "array",
      "description": "Collection of BusinessObject entities",
      "items": {
        "$ref": "#/definitions/BusinessObject"
      }
    },
    "contracts": {
      "type": "array",
      "description": "Collection of Contract entities",
      "items": {
        "$ref": "#/definitions/Contract"
      }
    },
    "representations": {
      "type": "array",
      "description": "Collection of Representation entities",
      "items": {
        "$ref": "#/definitions/Representation"
      }
    },
    "products": {
      "type": "array",
      "description": "Collection of Product entities",
      "items": {
        "$ref": "#/definitions/Product"
      }
    }
  },
  "definitions": {
    "EventType": {
      "type": "string",
      "enum": [
        "time-driven",
        "state-change",
        "external"
      ]
    },
    "RepresentationFormat": {
      "type": "string",
      "enum": [
        "document",
        "report",
        "form",
        "message"
      ]
    },
    "BusinessActor": {
      "type": "object",
      "description": "An organizational entity capable of performing behavior",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "BusinessRole": {
      "type": "object",
      "description": "The responsibility for performing specific behavior",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "BusinessCollaboration": {
      "type": "object",
      "description": "Aggregate of business roles working together",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "collaboration": {
              "type": "object",
              "properties": {
                "security-actors": {
                  "type": "string",
                  "description": "optional, Security Actor IDs"
                },
                "shared-permissions": {
                  "type": "string",
                  "description": "optional"
                }
              }
            }
          }
        }
      }
    },
    "BusinessInterface": {
      "type": "object",
      "description": "Point of access where business service is available",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "interface": {
              "type": "object",
              "properties": {
                "api-operations": {
                  "type": "string",
                  "description": "optional, comma-separated OpenAPI operation IDs"
                },
                "digital-channel": {
                  "type": "string",
                  "description": "optional"
                }
              }
            }
          }
        }
      }
    },
    "BusinessProcess": {
      "type": "object",
      "description": "Sequence of business behaviors achieving a result",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "process": {
              "type": "object",
              "properties": {
                "bpmn": {
                  "type": "string",
                  "description": "optional"
                },
                "security-controls": {
                  "type": "string",
                  "description": "optional, security control references"
                },
                "audit-required": {
                  "type": "string",
                  "description": "optional"
                },
                "separation-of-duty": {
                  "type": "string",
                  "description": "optional"
                },
                "kpi-target": {
                  "type": "string",
                  "description": "optional"
                }
              }
            },
            "apm": {
              "type": "object",
              "properties": {
                "business-metrics": {
                  "type": "string",
                  "description": "optional, business metric IDs"
                }
              }
            },
            "application": {
              "type": "object",
              "properties": {
                "realized-by-process": {
                  "type": "string",
                  "description": "optional, ApplicationProcess ID that automates this business process"
                },
                "process-steps": {
                  "type": "string",
                  "description": "optional, which specific ApplicationProcess steps realize this business process"
                }
              }
            }
          }
        }
      }
    },
    "BusinessFunction": {
      "type": "object",
      "description": "Collection of business behavior based on criteria",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "BusinessInteraction": {
      "type": "object",
      "description": "Unit of collective behavior by collaboration",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "BusinessEvent": {
      "type": "object",
      "description": "Something that happens and influences behavior",
      "required": [
        "id",
        "name",
        "type"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "type": {
          "$ref": "#/definitions/EventType"
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "event": {
              "type": "object",
              "properties": {
                "application-ref": {
                  "type": "string",
                  "description": "optional, reference to ApplicationEvent"
                },
                "topic": {
                  "type": "string",
                  "description": "optional, event bus topic"
                }
              }
            }
          }
        }
      }
    },
    "BusinessService": {
      "type": "object",
      "description": "Service that fulfills a business need",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "sla": {
              "type": "object",
              "properties": {
                "availability": {
                  "type": "string",
                  "description": "optional"
                },
                "response-time": {
                  "type": "string",
                  "description": "optional"
                }
              }
            },
            "motivation": {
              "type": "object",
              "properties": {
                "delivers-value": {
                  "type": "string",
                  "description": "optional, comma-separated Value IDs"
                },
                "supports-goals": {
                  "type": "string",
                  "description": "optional, comma-separated Goal IDs"
                },
                "governed-by-principles": {
                  "type": "string",
                  "description": "optional, comma-separated Principle IDs"
                }
              }
            }
          }
        }
      }
    },
    "BusinessObject": {
      "type": "object",
      "description": "Concept used within business domain",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "spec": {
              "type": "object",
              "properties": {
                "schema": {
                  "type": "string",
                  "description": "optional"
                },
                "schema-id": {
                  "type": "string",
                  "description": "optional, formal reference to Data Model Layer"
                }
              }
            },
            "data": {
              "type": "object",
              "properties": {
                "governance-owner": {
                  "type": "string",
                  "description": "optional, data owner reference"
                }
              }
            },
            "application": {
              "type": "object",
              "properties": {
                "represented-by-dataobject": {
                  "type": "string",
                  "description": "optional, DataObject ID that represents this business concept in applications"
                },
                "master-data-source": {
                  "type": "string",
                  "description": "optional, authoritative DataObject for this business object"
                }
              }
            }
          }
        }
      }
    },
    "Contract": {
      "type": "object",
      "description": "Formal specification of agreement",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "properties": {
          "type": "object",
          "description": "Cross-layer properties",
          "properties": {
            "contract": {
              "type": "object",
              "properties": {
                "constraint-refs": {
                  "type": "string",
                  "description": "optional, comma-separated Constraint IDs"
                },
                "sla-metrics": {
                  "type": "string",
                  "description": "optional, measurable SLA commitments"
                }
              }
            }
          }
        }
      }
    },
    "Representation": {
      "type": "object",
      "description": "Perceptible form of business object",
      "required": [
        "id",
        "name",
        "format"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "format": {
          "$ref": "#/definitions/RepresentationFormat"
        }
      }
    },
    "Product": {
      "type": "object",
      "description": "Coherent collection of services with a value",
      "required": [
        "id",
        "name"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "documentation": {
          "type": "string",
          "minLength": 1
        },
        "services": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        },
        "contracts": {
          "type": "array",
          "description": "Contains relationship",
          "items": {
            "type": "string"
          }
        }
      }
    }
  }
}
