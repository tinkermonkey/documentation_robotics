{
  "layerId": "11",
  "intraLayerRelationships": {
    "count": 14,
    "relationships": [
      {
        "relationshipTypeId": "composition",
        "predicate": "composes",
        "inversePredicate": "composed-of",
        "category": "structural",
        "description": "Whole-part relationship where the part cannot exist without the whole",
        "sourceTypes": ["APMConfiguration", "MeterConfig", "Span"],
        "targetTypes": ["MetricInstrument", "SpanEvent", "TraceConfiguration"],
        "examples": [
          {
            "source": "Span",
            "target": "SpanEvent",
            "description": "Span composes timestamped events occurring during execution",
            "layer": "11-apm-observability"
          },
          {
            "source": "APMConfiguration",
            "target": "TraceConfiguration",
            "description": "APM config composes trace, log, and metric configurations",
            "layer": "11-apm-observability"
          },
          {
            "source": "MeterConfig",
            "target": "MetricInstrument",
            "description": "Meter config composes individual metric instruments",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "aggregation",
        "predicate": "aggregates",
        "inversePredicate": "aggregated-by",
        "category": "structural",
        "description": "Whole-part relationship where the part can exist independently",
        "sourceTypes": ["InstrumentationScope", "Resource", "TraceConfiguration"],
        "targetTypes": ["ExporterConfig", "MetricInstrument", "Span"],
        "examples": [
          {
            "source": "Resource",
            "target": "Span",
            "description": "Resource aggregates all spans it produces",
            "layer": "11-apm-observability"
          },
          {
            "source": "InstrumentationScope",
            "target": "MetricInstrument",
            "description": "Instrumentation scope aggregates metrics it records",
            "layer": "11-apm-observability"
          },
          {
            "source": "TraceConfiguration",
            "target": "ExporterConfig",
            "description": "Trace config aggregates trace exporters",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "specialization",
        "predicate": "specializes",
        "inversePredicate": "generalized-by",
        "category": "structural",
        "description": "Type-subtype relationship (inheritance)",
        "sourceTypes": ["PremiumAccount", "Schema"],
        "targetTypes": ["Account", "Schema"],
        "examples": [
          {
            "source": "PremiumAccount",
            "target": "Account",
            "description": "Premium account specializes the general account concept"
          },
          {
            "source": "Schema",
            "target": "Schema",
            "description": "API schema specializes another via allOf/oneOf/anyOf composition",
            "layer": "06-api"
          }
        ]
      },
      {
        "relationshipTypeId": "triggering",
        "predicate": "triggers",
        "inversePredicate": "triggered-by",
        "category": "behavioral",
        "description": "Event or behavior triggers another behavior",
        "sourceTypes": ["DataQualityMetric"],
        "targetTypes": ["LogRecord"],
        "examples": [
          {
            "source": "DataQualityMetric",
            "target": "LogRecord",
            "description": "Quality violation triggers alert log record",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "flow",
        "predicate": "flows-to",
        "inversePredicate": "flows-from",
        "category": "behavioral",
        "description": "Sequential or data flow between behaviors",
        "sourceTypes": ["LogProcessor", "MetricInstrument", "Span"],
        "targetTypes": ["ExporterConfig", "LogProcessor", "Span"],
        "examples": [
          {
            "source": "Span",
            "target": "Span",
            "description": "Span flows to child spans (request propagation)",
            "layer": "11-apm-observability"
          },
          {
            "source": "LogProcessor",
            "target": "LogProcessor",
            "description": "Log records flow through processor pipeline in order",
            "layer": "11-apm-observability"
          },
          {
            "source": "MetricInstrument",
            "target": "ExporterConfig",
            "description": "Collected metrics flow to configured exporters",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "serving",
        "predicate": "serves",
        "inversePredicate": "served-by",
        "category": "behavioral",
        "description": "Service available to consumer",
        "sourceTypes": ["ExporterConfig", "InstrumentationConfig"],
        "targetTypes": ["APMConfiguration", "Resource"],
        "examples": [
          {
            "source": "InstrumentationConfig",
            "target": "Resource",
            "description": "Instrumentation config serves resources it instruments",
            "layer": "11-apm-observability"
          },
          {
            "source": "ExporterConfig",
            "target": "APMConfiguration",
            "description": "Exporter serves APM configuration by delivering telemetry",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "access",
        "predicate": "accesses",
        "inversePredicate": "accessed-by",
        "category": "behavioral",
        "description": "Behavior accesses passive element (data/artifact)",
        "sourceTypes": ["LogProcessor", "MetricInstrument"],
        "targetTypes": ["Attribute"],
        "examples": [
          {
            "source": "LogProcessor",
            "target": "Attribute",
            "description": "Log processor accesses attributes for filtering/transformation",
            "layer": "11-apm-observability"
          },
          {
            "source": "MetricInstrument",
            "target": "Attribute",
            "description": "Metric instrument accesses attributes for labeling",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "reference",
        "predicate": "references",
        "inversePredicate": "referenced-by",
        "category": "dependency",
        "description": "Pointer reference without functional dependency",
        "sourceTypes": ["LogRecord", "Span", "SpanLink"],
        "targetTypes": ["Span"],
        "examples": [
          {
            "source": "Span",
            "target": "Span",
            "description": "Span references parent span via parentSpanId (trace hierarchy)",
            "layer": "11-apm-observability"
          },
          {
            "source": "LogRecord",
            "target": "Span",
            "description": "Log record references associated span via traceContext",
            "layer": "11-apm-observability"
          },
          {
            "source": "SpanLink",
            "target": "Span",
            "description": "Span link references target span across traces",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "depends-on",
        "predicate": "depends-on",
        "inversePredicate": "dependency-of",
        "category": "dependency",
        "description": "Element requires another to function",
        "sourceTypes": ["LogRecord", "MetricInstrument", "Span"],
        "targetTypes": ["InstrumentationScope", "Resource"],
        "examples": [
          {
            "source": "Span",
            "target": "Resource",
            "description": "Span depends on resource for identity context",
            "layer": "11-apm-observability"
          },
          {
            "source": "Span",
            "target": "InstrumentationScope",
            "description": "Span depends on instrumentation scope for source context",
            "layer": "11-apm-observability"
          },
          {
            "source": "LogRecord",
            "target": "Resource",
            "description": "Log record depends on resource for identity context",
            "layer": "11-apm-observability"
          }
        ]
      },
      {
        "relationshipTypeId": "fulfills-requirements",
        "predicate": "fulfills-requirements",
        "inversePredicate": "fulfilled-by",
        "category": "traceability",
        "description": "Implementation satisfies requirement",
        "sourceTypes": ["ApplicationService", "Operation"],
        "targetTypes": ["Requirement"],
        "examples": [
          {
            "source": "ApplicationService",
            "target": "Requirement",
            "description": "OAuth service fulfills authentication requirement"
          },
          {
            "source": "Operation",
            "sourceLayer": "06-api",
            "target": "Requirement",
            "targetLayer": "01-motivation",
            "value": "req-product-creation-capability",
            "description": "POST /products operation fulfills product creation requirement"
          }
        ]
      },
      {
        "relationshipTypeId": "measures-outcome",
        "predicate": "measures-outcome",
        "inversePredicate": "measured-by",
        "category": "traceability",
        "description": "Metric validates outcome achievement",
        "sourceTypes": ["Metric"],
        "targetTypes": ["Outcome"],
        "examples": [
          {
            "source": "Metric",
            "target": "Outcome",
            "description": "Response time metric measures performance outcome"
          }
        ]
      },
      {
        "relationshipTypeId": "traces",
        "predicate": "traces",
        "inversePredicate": "traced-by",
        "category": "apm",
        "description": "Distributed tracing relationships",
        "sourceTypes": ["APIOperation"],
        "targetTypes": ["DistributedTrace"],
        "examples": [
          {
            "source": "APIOperation",
            "target": "DistributedTrace",
            "description": "API operation participates in distributed trace"
          }
        ]
      },
      {
        "relationshipTypeId": "monitors",
        "predicate": "monitors",
        "inversePredicate": "monitored-by",
        "category": "apm",
        "description": "Health/performance monitoring",
        "sourceTypes": ["HealthCheck"],
        "targetTypes": ["ApplicationService"],
        "examples": [
          {
            "source": "HealthCheck",
            "target": "ApplicationService",
            "description": "Health check monitors application service"
          }
        ]
      },
      {
        "relationshipTypeId": "measures",
        "predicate": "measures",
        "inversePredicate": "measured-by",
        "category": "apm",
        "description": "Metric collection relationships",
        "sourceTypes": ["Metric"],
        "targetTypes": ["APIOperation"],
        "examples": [
          {
            "source": "Metric",
            "target": "APIOperation",
            "description": "Response time metric measures API operation"
          }
        ]
      }
    ]
  },
  "crossLayerRelationships": {
    "outgoing": {
      "count": 3,
      "relationships": [
        {
          "id": "motivation-governed-by-principles",
          "predicate": "governed-by-principles",
          "inversePredicate": "governs",
          "targetLayer": "01-motivation",
          "targetTypes": ["GovernedByPrinciple"],
          "sourceTypes": ["BusinessService"],
          "fieldPath": "motivation.governed-by-principles",
          "cardinality": "array",
          "format": "reference",
          "strength": "high",
          "required": false,
          "description": "BusinessService governed by Principles",
          "examples": [
            {
              "elementType": "BusinessService",
              "elementId": "order-service",
              "elementName": "Order Processing Service",
              "fieldPath": "motivation.governed-by-principles",
              "value": "principle-customer-first,principle-automation",
              "layer": "02-business"
            },
            {
              "elementType": "ApplicationService",
              "elementId": "product-service",
              "elementName": "product-service",
              "fieldPath": "motivation.governed-by-principles",
              "value": "principle-api-first,principle-cloud-native",
              "layer": "04-application"
            }
          ]
        },
        {
          "id": "motivation-supports-goals",
          "predicate": "supports-goals",
          "inversePredicate": "supported-by",
          "targetLayer": "01-motivation",
          "targetTypes": ["SupportsGoal"],
          "sourceTypes": ["BusinessService"],
          "fieldPath": "motivation.supports-goals",
          "cardinality": "array",
          "format": "reference",
          "strength": "high",
          "required": false,
          "description": "BusinessService supports Goals",
          "examples": [
            {
              "elementType": "BusinessService",
              "elementId": "order-service",
              "elementName": "Order Processing Service",
              "fieldPath": "motivation.supports-goals",
              "value": "goal-customer-satisfaction,goal-revenue-growth",
              "layer": "02-business"
            },
            {
              "elementType": "ApplicationService",
              "elementId": "product-service",
              "elementName": "product-service",
              "fieldPath": "motivation.supports-goals",
              "value": "goal-product-catalog-accuracy,goal-customer-satisfaction",
              "layer": "04-application"
            }
          ]
        },
        {
          "id": "security-classification",
          "predicate": "classification",
          "inversePredicate": "referenced-by",
          "targetLayer": "03-security",
          "targetTypes": ["Classification"],
          "sourceTypes": ["Artifact"],
          "fieldPath": "security.classification",
          "cardinality": "single",
          "format": "string",
          "strength": "low",
          "required": false,
          "description": "Links to Classification in target layer",
          "examples": [
            {
              "elementType": "Artifact",
              "elementId": "product-db",
              "elementName": "product-db",
              "fieldPath": "security.classification",
              "value": "internal",
              "layer": "05-technology"
            },
            {
              "elementType": "Artifact",
              "elementId": "customer-db",
              "elementName": "customer-db",
              "fieldPath": "security.classification",
              "value": "restricted",
              "layer": "05-technology"
            }
          ]
        }
      ]
    },
    "incoming": {
      "count": 11,
      "relationships": [
        {
          "id": "apm-criticality",
          "predicate": "referenced-by",
          "inversePredicate": "apm-criticality",
          "sourceLayer": "06-api",
          "sourceTypes": ["Operation", "SecurityScheme"],
          "targetTypes": ["Criticality"],
          "fieldPath": "x-apm-criticality",
          "cardinality": "single",
          "description": "Inverse of: enum [low, medium, high, critical] (optional)"
        },
        {
          "id": "apm-health-check-endpoint",
          "predicate": "referenced-by",
          "inversePredicate": "health-check-endpoint",
          "sourceLayer": "05-technology",
          "sourceTypes": ["TechnologyService"],
          "targetTypes": ["HealthCheckEndpoint"],
          "fieldPath": "apm.health-check-endpoint",
          "cardinality": "single",
          "description": "Inverse of: health check endpoint"
        },
        {
          "id": "apm-health-monitored",
          "predicate": "referenced-by",
          "inversePredicate": "health-monitored",
          "sourceLayer": "05-technology",
          "sourceTypes": ["TechnologyService"],
          "targetTypes": ["HealthMonitored"],
          "fieldPath": "apm.health-monitored",
          "cardinality": "single",
          "description": "Inverse of: whether health is actively monitored"
        },
        {
          "id": "apm-sla-target-availability",
          "predicate": "referenced-by",
          "inversePredicate": "sla-target-availability",
          "sourceLayer": "04-application",
          "sourceTypes": ["ApplicationService"],
          "targetTypes": ["SlaTargetAvailability"],
          "fieldPath": "apm.sla-target-availability",
          "cardinality": "single",
          "description": "Inverse of: string (e.g., \"99.95%\", \"99.99%\", optional)"
        },
        {
          "id": "apm-sla-target-availability",
          "predicate": "referenced-by",
          "inversePredicate": "sla-target-availability",
          "sourceLayer": "05-technology",
          "sourceTypes": ["TechnologyService"],
          "targetTypes": ["SlaTargetAvailability"],
          "fieldPath": "apm.sla-target-availability",
          "cardinality": "single",
          "description": "Inverse of: string (e.g., \"99.95%\", \"99.99%\", optional)"
        },
        {
          "id": "apm-sla-target-availability",
          "predicate": "referenced-by",
          "inversePredicate": "sla-target-availability",
          "sourceLayer": "06-api",
          "sourceTypes": ["Operation", "SecurityScheme"],
          "targetTypes": ["SlaTargetAvailability"],
          "fieldPath": "apm.sla-target-availability",
          "cardinality": "single",
          "description": "Inverse of: string (e.g., \"99.95%\", \"99.99%\", optional)"
        },
        {
          "id": "apm-sla-target-latency",
          "predicate": "referenced-by",
          "inversePredicate": "sla-target-latency",
          "sourceLayer": "04-application",
          "sourceTypes": ["ApplicationService"],
          "targetTypes": ["SlaTargetLatency"],
          "fieldPath": "apm.sla-target-latency",
          "cardinality": "single",
          "description": "Inverse of: string (e.g., \"200ms\", \"500ms\", optional)"
        },
        {
          "id": "apm-sla-target-latency",
          "predicate": "referenced-by",
          "inversePredicate": "sla-target-latency",
          "sourceLayer": "05-technology",
          "sourceTypes": ["TechnologyService"],
          "targetTypes": ["SlaTargetLatency"],
          "fieldPath": "apm.sla-target-latency",
          "cardinality": "single",
          "description": "Inverse of: string (e.g., \"200ms\", \"500ms\", optional)"
        },
        {
          "id": "apm-sla-target-latency",
          "predicate": "referenced-by",
          "inversePredicate": "sla-target-latency",
          "sourceLayer": "06-api",
          "sourceTypes": ["Operation", "SecurityScheme"],
          "targetTypes": ["SlaTargetLatency"],
          "fieldPath": "apm.sla-target-latency",
          "cardinality": "single",
          "description": "Inverse of: string (e.g., \"200ms\", \"500ms\", optional)"
        },
        {
          "id": "apm-trace",
          "predicate": "referenced-by",
          "inversePredicate": "apm-trace",
          "sourceLayer": "06-api",
          "sourceTypes": ["Operation", "SecurityScheme"],
          "targetTypes": ["Trace"],
          "fieldPath": "x-apm-trace",
          "cardinality": "single",
          "description": "Inverse of: boolean (optional)"
        },
        {
          "id": "apm-traced",
          "predicate": "referenced-by",
          "inversePredicate": "traced",
          "sourceLayer": "04-application",
          "sourceTypes": ["ApplicationService", "Data Properties"],
          "targetTypes": ["Traced"],
          "fieldPath": "apm.traced",
          "cardinality": "single",
          "description": "Inverse of: Links to Traced in target layer"
        }
      ]
    }
  },
  "markdownDocumentation": {
    "intra_layer_sections": [
      "**Purpose**: Define structural and behavioral relationships between entities within this layer, following OpenTelemetry standards for distributed tracing, metrics, and logging.\n",
      "- **Valid Types**: Composition, Aggregation, Specialization, Triggering, Flow, Access, Serving, Assignment\n- **Source Validation**: Must reference existing entity in this layer\n- **Target Validation**: Must reference existing entity in this layer\n- **Cardinality**: Enforced based on relationship type\n"
    ],
    "cross_layer_sections": [
      "**Purpose**: Define semantic links to entities in other layers, supporting traceability, governance, and architectural alignment.\n",
      "- **Target Existence**: Referenced entities must exist in target layer\n- **Target Type**: Must match allowed target element types\n- **Cardinality**:\n  - Array fields: Multiple references allowed\n  - Single fields: One reference only\n- **Format Validation**:\n  - UUID fields: Valid UUID v4 format\n  - ID fields: Valid identifier format\n  - Enum fields: Must match allowed values\n"
    ],
    "has_content": true
  }
}
